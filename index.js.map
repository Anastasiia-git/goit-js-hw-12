{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default getPictures;\n\n\nfunction getPictures (tag) {\n    const API_URL = `https://pixabay.com/api`\n    const API_KEY = `47508443-dec4cffb8f44668b6640702d9`\n    return fetch(`${API_URL}/?q=${tag}&image_type=photo&orientation=horizontal&safesearch=true&key=${API_KEY}`)\n        .then((response) => {\n       \n        if (!response.ok) {\n          throw new Error(response.statusText)\n            }\n            return response.json()\n        })\n         \n\n}","export default createMurkup;\n\nfunction createMurkup(arr) {\n\n    return arr.map(({webformatURL,largeImageURL,tags,likes,views,comments,downloads }) => `<li class=\"list-item\" >\n  <a href=\"${largeImageURL}\" alt=\"${tags}\" title=\"\"/>\n    <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"img-item\">\n  <div class=\"list-container\">\n  <p class=\"item\"><span class=\"item-text\">Likes</span> <span>${likes}</span></p>\n  <p class=\"item\"><span class=\"item-text\">Wiews</span> <span>${views}</span></p>\n  <p class=\"item\"><span class=\"item-text\">Comments</span> <span>${comments}</span></p>\n  <p class=\"item\"><span class=\"item-text\">Downlods</span> <span>${downloads}</span></p>\n  </div></a>\n</li>`).join(\"\")\n    \n} ","import getPictures from \"./js/pixabay-api\";\nimport createMurkup from \"./js/render-functions\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionClass: 'imageTitle',\n});\n\n\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nform.addEventListener(\"submit\", toSabmit);\n\nfunction toSabmit(evt) {\n    evt.preventDefault();\n    \n    const { picture } = evt.target.elements;\n    const value = picture.value.trim();\n     gallery.innerHTML = \"\"; \n    if(!value || value === \"\"){\n        { iziToast.show({\n      title:\":(\",         \n      message: \"Please add request!\",\n      position: \"topRight\",\n      color: \"red\"\n            });\n            gallery.innerHTML = \":(\";\n            return\n              \n            }\n    }\n   \nloader.classList.remove(\"hidden\");\n    getPictures(value)\n            .then((data) => {\n            if (!data.hits.length) { iziToast.show({\n      title:\"X\",         \n      message: \"Sorry, there are no images matching your search query. Please try again!\",\n      position: \"topRight\",\n      color: \"red\"\n            });\n            }\n            else {\n\n                gallery.innerHTML = createMurkup(data.hits);\n                lightbox.refresh(); \n                }           \n            \n         })\n        .catch((error) => {\n            iziToast.show({\n                title: \"X\",\n                message: `${error.message}`,\n                position: \"topRight\",\n                color: \"red\"\n            })\n        })\n        .finally(() => {\n            picture.value = \"\" \n            loader.classList.add(\"hidden\");\n            \n        })\n}"],"names":["getPictures","tag","response","createMurkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","SimpleLightbox","form","gallery","loader","toSabmit","evt","picture","value","iziToast","data","error"],"mappings":"6vBAGA,SAASA,EAAaC,EAAK,CAGvB,OAAO,MAAM,8BAAiBA,CAAG,iGAAyE,EACrG,KAAMC,GAAa,CAEpB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEjC,OAAOA,EAAS,KAAM,CAClC,CAAS,CAGT,CCdA,SAASC,EAAaC,EAAK,CAEvB,OAAOA,EAAI,IAAI,CAAC,CAAC,aAAAC,EAAa,cAAAC,EAAc,KAAAC,EAAK,MAAAC,EAAM,MAAAC,EAAM,SAAAC,EAAS,UAAAC,CAAW,IAAK;AAAA,aAC7EL,CAAa,UAAUC,CAAI;AAAA,gBACxBF,CAAY,UAAUE,CAAI;AAAA;AAAA,+DAEqBC,CAAK;AAAA,+DACLC,CAAK;AAAA,kEACFC,CAAQ;AAAA,kEACRC,CAAS;AAAA;AAAA,MAErE,EAAE,KAAK,EAAE,CAEf,CCPA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,aAAc,YAChB,CAAC,EAGKC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAQ,EAExC,SAASA,EAASC,EAAK,CACnBA,EAAI,eAAc,EAElB,KAAM,CAAE,QAAAC,CAAS,EAAGD,EAAI,OAAO,SACzBE,EAAQD,EAAQ,MAAM,KAAI,EAEhC,GADCJ,EAAQ,UAAY,GAClB,CAACK,GAASA,IAAU,GACnB,CAAEC,EAAS,KAAK,CAClB,MAAM,KACN,QAAS,sBACT,SAAU,WACV,MAAO,KACb,CAAa,EACDN,EAAQ,UAAY,KACpB,MAEC,CAGbC,EAAO,UAAU,OAAO,QAAQ,EAC5BhB,EAAYoB,CAAK,EACR,KAAME,GAAS,CACXA,EAAK,KAAK,QASXP,EAAQ,UAAYZ,EAAamB,EAAK,IAAI,EAC1CV,EAAS,QAAO,GAVKS,EAAS,KAAK,CAC7C,MAAM,IACN,QAAS,2EACT,SAAU,WACV,MAAO,KACb,CAAa,CAQb,CAAU,EACD,MAAOE,GAAU,CACdF,EAAS,KAAK,CACV,MAAO,IACP,QAAS,GAAGE,EAAM,OAAO,GACzB,SAAU,WACV,MAAO,KACvB,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXJ,EAAQ,MAAQ,GAChBH,EAAO,UAAU,IAAI,QAAQ,CAEzC,CAAS,CACT"}